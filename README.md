# チーム開発イベントについて

## イベントの流れ

1. 概要とルールの説明（所要時間: 10分）
2. グループに分かれてチーム開発を実施（所要時間: 60分）
3. イベント終了後のご案内（所要時間: 10分）

<br>

## イベントの概要

当イベントは、**より実践的なチーム開発を体験していただく**ためのイベントとなります。<br>
ランダムで2~3人のグループに分かれて、実際の開発の流れを体験いただきます。<br>
グループに分かれたら、管理者を決めてチーム開発を進めていきましょう。

<br>

## イベントのルール

* わからない時は、まずはグループ内でコミュニケーションを取り、問題解決を試みましょう
* グループで3分考えても解決できない場合は「**ヘルプを求める**」からメンターを呼びましょう
* グループの分割後、「チャット」は**グループ専用となります**ので、グループで文章を送る際は「チャット」をご活用ください
* **メンターが定期的に各グループを巡回しています**ので、解決できない問題等があればその時にまとめてお聞きください
* 「**6.全員の作業をマージするためのPRを作成しましょう**」まで完了すれば、チーム開発の感想をグループ内で共有しましょう
* イベントの最後に、**グループごとにPRのURLを提出していただき**、チーム開発は終了となります
* チーム開発の制限時間は**60分**に設定しておりますので、**開発途中であってもその時点のものを提出してください**
* 最終的に提出いただいたPRは、後ほどメンターがチェックし、改善点・修正点があればPR上でコメントさせていただきます

<br>

# チーム開発の準備を進めましょう

## 0. 最初に

まず最初に、チーム内での管理者を1名決めてください。<br>
管理者は、**開発元ブランチ（※後述）の作成**や**タスクの割り振り**、**PRのマージ**などを担当します。

<br>

## 1. 開発環境を構築しましょう

続いて、開発環境の構築を進めていきましょう。

### ①チーム開発用のディレクトリを作成する

まずは、ローカル環境に `PotepanCamp_Team_Development` ディレクトリを作成してください。

```
mkdir PotepanCamp_Team_Development

※任意の場所で結構です。
```

### ②チーム開発用のリポジトリをcloneする

`PotepanCamp_Team_Development` ディレクトリへ移動し、チーム開発用のリポジトリをcloneしてください。

```
cd PotepanCamp_Team_Development
git clone https://github.com/potepancamp/html_css_beginner_task.git
```

### ③ローカル環境で動作を確認する

`html_css_beginner_task` ディレクトリ内の `feature.html` というファイルをドラッグ＆ドロップでブラウザ上へ移動させてください。<br>
以下の内容が表示されていれば問題ありません。

<img alt="サンプルイメージ" src="https://user-images.githubusercontent.com/51982961/158944084-6d7ba7d3-2bd0-4994-98e3-9626db83c7e0.png">

<br>

## 2. 開発元ブランチを作成しましょう

チーム開発では、developブランチから開発元ブランチを派生させ、**その開発元ブランチをチームの成果物とします**。<br>
各々、ご自身の役割に応じて以下の作業を進めてください。

### ＜管理者はこちら＞

管理者は、以下の手順で**ローカル環境/Github上**に開発元ブランチを作成してください。

```
1. cd html_css_beginner_task → 課題ディレクトリへ移動する

2. git branch → 現在のブランチを確認する
※現在のブランチが develop 以外の場合には、git checkout develop コマンドで develop ブランチへ移動してください

3. git checkout -b html_css_beginner_task_#{年月日}_#{ZOOM上のルーム番号} → 開発元ブランチを作成する

（例）
html_css_beginner_task_20220401_01

※日付は、#{yyyymmdd}の形で記載してください。
※ZOOM上のルーム番号は、開発チーム毎に割り当てられます。

4. git push origin HEAD → Github上で開発元ブランチを作成する
```

Github上で開発元ブランチが作成できれば、**作成したブランチ名をメンバーへ伝えてください**。

<br>

### ＜管理者以外のメンバーはこちら＞

管理者以外のメンバーは、管理者から開発元ブランチの名前を聞いてください。<br>
その後、以下の手順で**ローカル環境**に開発元ブランチを作成してください。

```
1. cd html_css_beginner_task → 課題ディレクトリへ移動する

2. git branch → 現在のブランチを確認する
※現在のブランチが develop 以外の場合には、git checkout develop コマンドで develop ブランチへ移動してください

3. git checkout -b #{開発元ブランチ} → 開発元ブランチを作成する

4. git pull origin #{開発元ブランチ} → リモートの内容をローカルへ取り込む
```

<br>

# チーム開発を進めていきましょう

## 1. タスクを割り振りましょう（※管理者のみ）

管理者は、開発内容の中から、自身およびメンバーに対してタスクを割り振ってください。<br>
※**開発内容の項目ごとに割り振る形式**や、**実装箇所ごとに割り振る形式**（タイトル/上半分/下半分 など）があります。

<br>

## 2. ローカル環境で作業を進めていきましょう

割り振られたタスクに従って、ローカル環境で実装を進めていきましょう。<br>
ローカル環境では、「**開発元ブランチの作成**」セクションで作成した `#{開発元ブランチ}` から作業ブランチを派生させてください。<br>
※作業ブランチを `#{開発元ブランチ}` にマージしていくことで、チーム開発を完成させていきます。

```
1. git branch → 現在のブランチを確認する
※現在のブランチが #{開発元ブランチ} 以外の場合には、git checkout #{開発元ブランチ} コマンドで #{開発元ブランチ} ブランチへ移動してください

2. git checkout -b #{作業ブランチ} → 作業ブランチを作成する
```

<br>

## 3. Githubへpushしましょう

作業が完了したら、その内容をコミットし、Githubへpushしましょう。

```
1. git status / git diff → 作業内容に問題がないかを確認する
2. git add . → 作業内容をインデックス領域に追加する
3. git commit -m "#{コミットメッセージ}" → 作業内容をコミットする
4. git push origin HEAD → 作業内容をGithubへpushする
```

<br>

## 4. 各々の作業をマージするためのPRを作成しましょう

Github上でPRを作成する際には、以下の手順を進めてください。

### ①PRページへ移動する

課題リポジトリの `Pull requests` ページへ移動し、`Compare & pull request` ボタンをクリックしてください。

<img alt="Pull Requestボタン" src="https://user-images.githubusercontent.com/51982961/159828162-4290df80-b7dd-4159-b482-10863706d08d.png">

<br>

### ②PRを作成する

ご自身を `Assignee` に、他の受講生の方々を `Reviewers` に指定し、`Create pull request` ボタンをクリックしてPRを作成してください。

<img alt="Pull Requestの作成" src="https://user-images.githubusercontent.com/51982961/159828864-2d0cce2e-b37e-4c5e-8f9c-caffc9d22ae9.png">

※PRのタイトルは、`HTML/CSSチーム開発課題（#{お名前orニックネーム}）` としてください。<br>
※未完了の場合も、制限時間が経過した段階で、**その時点のものをpushし、PRを作成してください**。

<br>

### ③メンバーへ共有する

PRの作成が完了した旨を他のメンバーへ伝えてください。

<br>

## 5. それぞれのPRをレビューしてみましょう

他の受講生の方々のPRをレビューしてみましょう。<br>
（※例えば、「**こんな書き方あったんですね!**」や「**ここはこういう書き方もありますよ!**」など）

### ＜Github上で確認する方法＞

作業内容をGithub上で確認する際には、PRページの `Files changed` タブをクリックしてください。

<img alt="Pull Requestの作成" src="https://user-images.githubusercontent.com/51982961/159833412-ca6d3387-3f26-4083-baec-d365836eb143.png">

<br>

### ＜ローカル環境で確認する方法＞

他の受講生の方の作業内容をご自身のPC上で確認するためには、以下の手順を進めてください。

```
1. git checkout #{開発元ブランチ} → 開発元ブランチへ移動する

2. git checkout -b #{他の受講生の方の作業ブランチ} → 他の受講生の方の作業ブランチへ移動する
※他の受講生の方の作業ブランチは、Github上で確認可能です。

3. git pull origin #{他の受講生の方の作業ブランチ} → 他の受講生の方の作業内容をローカル環境へ取り込む

4. ブラウザ上で動作を確認する
```

※詳しいレビュー方法については、後述の「レビューの手引き」をご参照ください。

<br>

## 6. 全員の作業をマージするためのPRを作成しましょう（※管理者のみ）

全員の作業内容がマージされたら、管理者は、`develop` ブランチへ向けたPRを作成してください。<br>
タイトルは、「HTML/CSS チーム開発課題（ `#{開発元ブランチ名}` ）」としてください。<br>
これでチーム開発は完了です。お疲れ様でした。

<br>

# 【備考】レビューの手引き

## レビュアー（※レビューする人）の作業手順

### ＜修正が必要な場合＞

#### 1. PR上でコメントしたい箇所をクリックする

#### 2. コメントを記載し、`Start a review` をクリックする

<img alt="コメント方法" src="https://user-images.githubusercontent.com/51982961/159830952-6bfad84c-a784-4893-a939-0434b8dbccd1.png">

#### 3. 他にもコメントがあれば、該当箇所をクリックしてコメントを記載する

#### 4. 全てのコメントが完了した段階で、右上の `Review changes` をクリックする

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159831336-3df62b38-897f-4926-b2f4-12221b6cd7b7.png">

#### 5. `Comment` を選択した上で、`Submit review` をクリックする

<img alt="レビューの提出" src="https://user-images.githubusercontent.com/51982961/159831759-dededa80-0671-4ebb-ab94-bfc45f9b91eb.png">

<br>

### ＜修正が不要な場合＞

#### 1. 右上の `Review changes` をクリックする

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159831336-3df62b38-897f-4926-b2f4-12221b6cd7b7.png">

#### 2. `Approve` を選択し、「LGTMです:+1:」のコメントを記載した上で、`Submit review` をクリックする

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159831956-f7bec44c-9809-4347-8b37-9051b86bb22c.png">

<br>

## レビュイー（※レビューされる人）の作業手順

### ＜修正が必要な場合＞

修正が必要な場合、以下の手順で修正作業を進めてください。

#### 1. ローカル環境でコメント箇所の修正対応を進める
#### 2. 修正完了後、その内容を再びコミットし、Githubへpushする
#### 3. PR上で、レビュアーに対して修正が完了した旨の連絡をする

<br>

### ＜修正が不要な場合＞

特に必要な作業はありません。<br>
他の受講者の方々全員からLGTMを頂けた場合には、管理者へマージを依頼しましょう。

<br>

## マージ手順（※管理者のみ）

各々のPRに対して、作業者以外のLGTMが揃った場合には、PRをマージしましょう。<br>
※マージボタンは、PRページの下段にあります。

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159832843-9e689d88-6f75-4e03-88ba-d4a86ae96c13.png">

<br>

# 【備考】コンフリクト

## コンフリクトとは？

異なる派生ブランチで**複数人が同じ箇所を修正**し、その派生ブランチを**共通の派生元ブランチへマージする際に発生する事象**で、派生元ブランチが「**どの変更が正しい変更かが判断できなくなる状態**」のことを指します。

（※「コンフリクト」には「対立」などの意味がありますが、派生ブランチ同士が対立してしまっている状態だと想像してください）

例えば、以下のような状況では、コンフリクトが発生してしまいます。

```
＜Aさん＞
* developブランチからpotepan01ブランチを派生させ、top.htmlの1-10行を修正

＜Bさん＞
* developブランチからpotepan02ブランチを派生させ、top.htmlの5-10行を修正

Aさんの作業内容を先にdevelopブランチにマージした場合→BさんがPRを作成する際にコンフリクトが発生
Bさんの作業内容を先にdevelopブランチにマージした場合→AさんがPRを作成する際にコンフリクトが発生
```

コンフリクトが発生していると、**その派生ブランチは派生元ブランチへマージできなくなります**ので、必ず解消するようにしましょう。

※コンフリクトが発生している場合、PR上のマージボタンが以下のように変わります。

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159834820-7075d878-36d6-4503-ab9b-f13dd4830dfe.png">

<br>

## コンフリクトを解消してみよう

コンフリクトを解消するには、「**GithubのGUI上で解消する**」方法と「**ローカル環境でコンフリクトを発生させ、その場で解消する**」方法の二つが存在しています。

簡単なコンフリクトであれば前者で問題ないですが、**複雑なコンフリクトになると後者の方法を用います**ので、チーム開発内でも後者の方法でコンフリクトを解消していきましょう。

### ①コンフリクトを発生させる

ローカル環境でコンフリクトを発生させるには、以下の手順を踏みます。

```
1. git checkout #{開発元ブランチ} → #{開発元ブランチ}にスイッチ

2. git pull origin #{開発元ブランチ} → ローカル環境の#{開発元ブランチ}を最新のもの（リモート）に合わせる

3. git checkout #{作業ブランチ} → #{作業ブランチ}にスイッチ

4. git rebase #{開発元ブランチ} → コミット履歴を整理する中でコンフリクトが発生する
```

※コンフリクトが発生している場合、以下のような「**CONFLICT (content): Merge conflict...**」というメッセージが表示されます。

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159836411-f3620e14-dfef-4cba-b982-798fa45c671c.png">

<br>

### ②コンフリクトの内容を確認する

上記手順でコンフリクトを発生させたのち、ターミナルで `git status` を実行すると、**コンフリクトが発生しているファイル**が表示されます。<br>
そのファイルを開くと、コンフリクトが発生している箇所に `<<<<<<<<` や `>>>>>>>>`、`========` などの記号が表示されています。

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159836466-fc3e5cc9-b2d8-441d-b0a2-9bf80db67bca.png">

<br>

### ③コンフリクトを解消する

コンフリクトが発生している箇所を確認できれば、**チームメンバーと相談しながら、コンフリクトを解消していきましょう。**

コンフリクトの解消の最終目標は、`<<<<<<<<` や `>>>>>>>>`、`========` などの記号を削除し、**正しく動作するコードに修正すること**です。

そのためには、コンフリクトが発生しているコードを作成した他のメンバーとコミュニケーションをとり、「**このコードは残しておくべきか**」や「**このコードは削除して問題ないか**」などを確認しつつ、修正を進めていくことになります。

コンフリクトが解消できれば、以下の手順で修正内容をコミットします。

```
1. git add #{コンフリクトが発生していたファイル}

2. git rebase --continue
```

「**Successfully rebased and updated...**」というメッセージが表示されれば、コンフリクトの解消は完了です。<br>
別のコミットとの間でコンフリクトが再び発生した場合には、「コンフリクトの内容を確認する」以降の手順を再度繰り返してください。

なお、以下のようなメッセージが表示された場合には、PC上の `esc` キーをクリック後、`z` キーを2回連続でクリックしてください。

※メッセージが切り替わらない場合には、PC上の `Shift` キー（※⬆︎のキー）を押しながら `z` キーを2回連続でクリックしてください。

<img alt="レビューコメント" src="https://user-images.githubusercontent.com/51982961/159836681-f894d29c-f11b-4a8c-a609-ad652e6184f5.png">

<br>

### ④Githubへpushする

コンフリクトが解消できれば、修正した作業ブランチを再びGithubへpushしましょう。<br>
この時、**作業ブランチはリモートよりもローカルの方が新しい状態になっています**ので、以下のように**強制push**を行いましょう。

```
git push origin HEAD -f
```

「-f」オプションを付けることで、リモートブランチをローカルブランチで強制的に上書きすることができます。<br>
強制的に上書きする処理ですので、masterブランチやdevelopブランチに対しては使用しないようにしてください。

<br>

# 【備考】スタイルガイド

## 文字色

文字色の指定がある場合には、それぞれ以下のスタイルを適用すること。

* 白色→#fff
* 灰色→#A2A2A4
* 黒色→#000
* オレンジ色→#F79214

## 文字の強調

文字を強調する場合には、以下のスタイルを適用すること。

* font-size→28px
* color→オレンジ色
* line-height→39px

## 注釈文字

注釈については、以下のスタイルを適用すること。

* font-size→12px
* color→灰色
* line-height→16px

## インタビュータイトル

以下の文字スタイルを適用すること。

* font-size→19px
* font-weight→700
* line-height→28px

## イニシャル・年齢の文字

以下の文字スタイルを適用すること。

* font-size→15px
* line-height→26px

<br>

# 完成イメージ

以下の画像を参考に実装を進めてください。

<img alt="完成イメージ" src="https://user-images.githubusercontent.com/51982961/158943901-352d29ba-49c8-49a0-8e1b-3f49401be9e5.png">

※ 完成イメージは、`image/sample.png` にも格納されています。